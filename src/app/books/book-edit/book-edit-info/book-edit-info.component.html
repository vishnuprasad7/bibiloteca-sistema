<div class="container">
  <form novalidate #bookForm="ngForm">
    <div class="form-group row m-2">
      <label class="col-md-2 col-form-label" for="bookTitleId"
        >Book Title</label
      >
      <div class="col-md-8">
        <input
          class="form-control"
          id="bookTitleId"
          type="text"
          placeholder="The Harry potter"
          required
          minlength="3"
          [ngModel]="book?.title"
          name="title"
          #bookTitleVar="ngModel"
        />
        <span class="invalid-feedback">
          <span *ngIf="bookTitleVar.errors?.['required']">
            Book title is required.
          </span>
          <span *ngIf="bookTitleVar.errors?.['required']">
            Book title must be at least three characters.
          </span>
        </span>
      </div>
    </div>

    <div class="form-group row m-2">
      <label class="col-md-2 col-form-label" for="bookAuthorID">Author</label>
      <div class="col-md-8">
        <input
          class="form-control"
          id="bookAuthorID"
          type="text"
          placeholder="J.K. Rowling"
          required
          [ngModel]="book?.author"
          name="author"
          #bookAuthorVar="ngModel"
          [ngClass]="{
            'is-invalid':
              (bookAuthorVar.touched || bookAuthorVar.dirty) &&
              !bookAuthorVar.valid
          }"
        />
        <span class="invalid-feedback">
          <span *ngIf="bookAuthorVar.errors?.['required']">
            Book Author is required.
          </span>
        </span>
      </div>
    </div>
    <div class="form-group row m-2">
      <label class="col-md-2 col-form-label" for="yopId"
        >Publication Year
      </label>
      <div class="col-md-8">
        <input
          class="form-control"
          id="yopId"
          type="number"
          placeholder="1992"
          required
          [ngModel]="book?.publication_year"
          name="yop"
          #bookyopVar="ngModel"
          [ngClass]="{
            'is-invalid':
              (bookyopVar.touched || bookyopVar.dirty) && !bookyopVar.valid
          }"
        />
        <span class="invalid-feedback">
          <span *ngIf="bookyopVar.errors?.['required']">
            Book Publication year is required.
          </span>
        </span>
      </div>
    </div>
    <div class="form-group row m-2">
      <label class="col-md-2 col-form-label" for="genre">Genre </label>
      <div class="col-md-8">
        <select
          class="form-select"
          multiple
          aria-label="Default select example"
        >
          <option *ngFor="let genre of bookGenreTypes" [value]="genre.value">
            {{ genre.title }}
          </option>
        </select>
      </div>
    </div>
    <div class="form-group row m-2">
      <label class="col-md-2 col-form-label" for="descriptionId"
        >Description</label
      >
      <div class="col-md-8">
        <textarea
          class="form-control"
          id="descriptionId"
          placeholder="Description"
          rows="3"
          [ngModel]="book?.description"
          name="description"
        ></textarea>
      </div>
    </div>
  </form>
</div>

<div class="alert alert-danger" *ngIf="errorMessage">{{ errorMessage }}</div>
